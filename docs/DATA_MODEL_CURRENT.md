# Current Data Model (JSON)

## Overview
This document describes the current structure of the V1 JSON output generated by the scraper.

## JSON Structure
The root object contains the following top-level sections:

### 1. `metadata`
- **Fields**: `schema_version` (e.g., "1.0"), `state_code` (e.g., "CG").
- **Purpose**: Basic identification of the file format and source state.

### 2. `project_details`
- **Fields**: `registration_number`, `project_name`, `project_type`, `project_status`, `district`, `tehsil`, `project_address`.
- **Mapping**: Maps directly to the `projects` table in DB.

### 3. `promoter_details`
- **Type**: List of objects.
- **Fields**: `name`, `email`, `organisation_type`, `address`, `phone`, `pan`, `cin`.
- **Mapping**: Maps to `promoters` table.

### 4. `land_details`
- **Type**: List.
- **Status**: Often empty in samples (`[]`).

### 5. `building_details`
- **Type**: List.
- **Status**: Often empty in samples (`[]`).

### 6. `unit_types`
- **Type**: List.
- **Status**: Often empty in samples (`[]`).

### 7. `bank_details`
- **Type**: List of objects.
- **Fields**: `bank_name`, `branch_name`, `account_number`, `ifsc_code`.
- **Issue**: **Not mapped to any DB table.**

### 8. `documents`
- **Type**: List.
- **Status**: Often empty (`[]`), even when document metadata exists in `previews`.

### 9. `quarterly_updates`
- **Type**: List.
- **Status**: Often empty (`[]`).

### 10. `raw_data`
- **Purpose**: Captures unstructured or unmapped data from the HTML.
- **Subkeys**:
    - `sections`: Normalized dictionary of some sections.
    - `unmapped_sections`: Nested dictionary containing the bulk of the scraped data that hasn't been normalized.
        - Contains keys like `Land Documents`, `Approval From Competent Authoroties`, `Project Specific`, `Acts & Rules`.
        - **Critical**: Many values here are "Preview" (indicating a file link) or "NA".

### 11. `previews`
- **Type**: Dictionary keyed by normalized field name (e.g., `registrationcertificate`).
- **Structure**:
    ```json
    "registrationcertificate": {
      "field_key": "registrationcertificate",
      "artifact_type": "unknown",
      "files": [],
      "notes": "../Content/ProjectDocuments/..."
    }
    ```
- **Issues**:
    - `files` list is empty.
    - `notes` contains the file path/URL.
    - Not mapped to `project_documents` table in DB.

## Known Issues
1.  **Missing Normalization**: Much of the data remains in `raw_data.unmapped_sections` and is not promoted to top-level lists (e.g., `land_details`, `documents`).
2.  **"Preview" Literals**: The `unmapped_sections` contain the literal string "Preview" for many document fields, while the actual link/path is extracted into the separate `previews` section.
3.  **Empty Lists**: `documents`, `building_details`, `unit_types` are often empty despite data existing in `raw_data`.
4.  **Bank Details**: Extracted but not stored in DB.
